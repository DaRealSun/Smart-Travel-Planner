import {useDispatch} from "react-redux";import {useEffect} from "react";import {onAuthStateChanged} from "firebase/auth";import {auth} from "../utils/firebase";import {addUser, removeUser} from "../utils/userSlice";import appRouter from "../router/appRouter";const AuthListener = () => {    const dispatch = useDispatch();    useEffect(() => {               //Stop things when done        console.log("[AuthListener] mounted");        const unsubscribe = onAuthStateChanged(auth, (user) => {                                    //Detect when the user logs in/out            console.log("[AuthListener] onAuthStateChanged:", user);            if (user) {                // User is signed in, see docs for a list of available properties                // https://firebase.google.com/docs/reference/js/auth.user                const {uid, email, displayName, photoURL} = user;                dispatch(addUser({uid:uid, email:email, displayName:displayName, photoURL:photoURL}));                  //Store the user info                appRouter.navigate("/browse");            } else {                // User is signed out                dispatch(removeUser())          //Remove user on logout                appRouter.navigate("/")            }        });        //unsubscribe when component unmounts        return () => unsubscribe();    }, []) //Run something once when app starts    return (null);};export default AuthListener;